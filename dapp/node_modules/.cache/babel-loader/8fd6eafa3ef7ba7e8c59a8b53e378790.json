{"ast":null,"code":"var _jsxFileName = \"/home/pablo/Desktop/DAO/dapp/src/components/dao/Daolist/Daowatch.js\",\n  _s = $RefreshSig$();\nimport { drizzleReactHooks } from '@drizzle/react-plugin';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  useDrizzle,\n  useDrizzleState\n} = drizzleReactHooks;\nconst Daowatch = ({\n  DaoIndex\n}) => {\n  _s();\n  const {\n    useCacheCall\n  } = useDrizzle();\n  const drizzleState = useDrizzleState(state => state);\n  const address = drizzleState.accounts[0];\n  const balance = drizzleState.accountBalances[address];\n  const oz_states = ['Pending', 'Active', 'Canceled', 'Defeated', 'Succeeded', 'Queued', 'Expired', 'Executed'];\n\n  // Función para obtener el estado basado en el valor de propState\n  const getPropState = propState => {\n    return oz_states[propState] || 'Unknown'; // Devolvemos el estado correspondiente o 'Unknown' si no se encuentra\n  };\n\n  let {\n    addr,\n    datos,\n    propState\n  } = useCacheCall(['GovernorContract'], call => {\n    const addr = call('GovernorContract', 'proposes', DaoIndex);\n    const datos = addr && call('GovernorContract', 'datosPropose', addr);\n    const propState = addr && datos && call('GovernorContract', 'state', datos.id);\n    return {\n      addr,\n      datos,\n      propState\n    };\n  });\n  //<Link to={`/dao/${DaoIndex}`}>Votar</Link>\n  let estado = getPropState(propState);\n  // Renderizar el elemento apropiado basado en propState\n  const renderActionElement = () => {\n    if (propState === 1 || propState === 0) {\n      // Estado \"Active\"\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"HOLA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 15\n      }, this);\n    } else if (propState === 4) {\n      // Estado \"Succeeded\"\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: ejecutarPropuesta,\n        children: \"Ejecutar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 14\n      }, this);\n    } else {\n      return {\n        estado\n      };\n    }\n  };\n\n  // Función para ejecutar la propuesta (llamar a la función \"ejecutarPropuesta\" según tu contrato)\n  const ejecutarPropuesta = async () => {\n    try {\n      // Lógica para ejecutar la propuesta aquí, según el contrato\n    } catch (error) {\n      console.log('Error al ejecutar la propuesta:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n      children: [\"A\", /*#__PURE__*/_jsxDEV(\"sub\", {\n        children: DaoIndex\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: datos === null || datos === void 0 ? void 0 : datos.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: getPropState(propState)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: renderActionElement()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, 'Dao-' + DaoIndex, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(Daowatch, \"rj4PYN5ewvUm+WeqfUxZtYu0tc4=\", true, function () {\n  return [useDrizzle, useDrizzleState];\n});\n_c = Daowatch;\nexport default Daowatch;\nvar _c;\n$RefreshReg$(_c, \"Daowatch\");","map":{"version":3,"names":["drizzleReactHooks","Link","jsxDEV","_jsxDEV","useDrizzle","useDrizzleState","Daowatch","DaoIndex","_s","useCacheCall","drizzleState","state","address","accounts","balance","accountBalances","oz_states","getPropState","propState","addr","datos","call","id","estado","renderActionElement","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ejecutarPropuesta","error","console","log","description","_c","$RefreshReg$"],"sources":["/home/pablo/Desktop/DAO/dapp/src/components/dao/Daolist/Daowatch.js"],"sourcesContent":["import { drizzleReactHooks } from '@drizzle/react-plugin';\nimport { Link } from 'react-router-dom';\n\nconst { useDrizzle, useDrizzleState } = drizzleReactHooks;\n\nconst Daowatch = ({ DaoIndex }) => {\n  const { useCacheCall } = useDrizzle();\n  const drizzleState = useDrizzleState((state) => state);\n\n  const address = drizzleState.accounts[0];\n  const balance = drizzleState.accountBalances[address];\n\n  \n\n  const oz_states = [\n    'Pending',\n    'Active',\n    'Canceled',\n    'Defeated',\n    'Succeeded',\n    'Queued',\n    'Expired',\n    'Executed',\n  ];\n\n  // Función para obtener el estado basado en el valor de propState\n  const getPropState = (propState) => {\n    return oz_states[propState] || 'Unknown'; // Devolvemos el estado correspondiente o 'Unknown' si no se encuentra\n  };\n\n  let { addr, datos, propState } = useCacheCall(\n    ['GovernorContract'],\n    (call) => {\n      const addr = call('GovernorContract', 'proposes', DaoIndex);\n      const datos = addr && call('GovernorContract', 'datosPropose', addr);\n      const propState = addr && datos && call('GovernorContract', 'state', datos.id);\n      return { addr, datos, propState };\n    }\n  );\n    //<Link to={`/dao/${DaoIndex}`}>Votar</Link>\n    let estado = getPropState(propState);\n  // Renderizar el elemento apropiado basado en propState\n  const renderActionElement = () => {\n    if (propState === 1 || propState === 0) {\n      // Estado \"Active\"\n      return (<h1>HOLA</h1>);\n    } \n    \n    else if (propState === 4) {\n      // Estado \"Succeeded\"\n      return <button onClick={ejecutarPropuesta}>Ejecutar</button>;\n    } else {\n      return ({estado});\n    }\n  };\n\n  // Función para ejecutar la propuesta (llamar a la función \"ejecutarPropuesta\" según tu contrato)\n  const ejecutarPropuesta = async () => {\n    try {\n      // Lógica para ejecutar la propuesta aquí, según el contrato\n    } catch (error) {\n      console.log('Error al ejecutar la propuesta:', error);\n    }\n  };\n\n  return (\n    <tr key={'Dao-' + DaoIndex}>\n      <th>A<sub>{DaoIndex}</sub></th>\n      <td>{datos?.description}</td>\n      <td>{getPropState(propState)}</td>\n      <td>{renderActionElement()}</td>\n    </tr>\n  );\n};\n\nexport default Daowatch;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}