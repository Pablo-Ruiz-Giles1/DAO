{"ast":null,"code":"var _jsxFileName = \"/home/pablo/Desktop/DAO/dapp/src/components/dao/Daolist/Daowatch.js\",\n  _s = $RefreshSig$();\nimport { drizzleReactHooks } from '@drizzle/react-plugin';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  useDrizzle,\n  useDrizzleState\n} = drizzleReactHooks;\nconst Daowatch = ({\n  DaoIndex\n}) => {\n  _s();\n  const {\n    useCacheCall\n  } = useDrizzle();\n  const drizzleState = useDrizzleState(state => state);\n  const address = drizzleState.accounts[0];\n  const balance = drizzleState.accountBalances[address];\n  console.log(\"DaoIndex:\", DaoIndex);\n  const oz_states = ['Pending', 'Active', 'Canceled', 'Defeated', 'Succeeded', 'Queued', 'Expired', 'Executed'];\n\n  // Función para obtener el estado basado en el valor de propState\n  const getPropState = propState => {\n    return oz_states[propState] || 'Unknown'; // Devolvemos el estado correspondiente o 'Unknown' si no se encuentra\n  };\n\n  let {\n    addr,\n    datos,\n    propState\n  } = useCacheCall(['GovernorContract'], call => {\n    const addr = call('GovernorContract', 'proposes', DaoIndex);\n    const datos = addr && call('GovernorContract', 'datosPropose', addr);\n    const propState = addr && datos && call('GovernorContract', 'state', datos.id);\n    return {\n      addr,\n      datos,\n      propState\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n      children: [\"A\", /*#__PURE__*/_jsxDEV(\"sub\", {\n        children: DaoIndex\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: datos === null || datos === void 0 ? void 0 : datos.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: getPropState(propState)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: `/dao/${DaoIndex}`,\n        children: \"Votar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, 'Dao-' + DaoIndex, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(Daowatch, \"rj4PYN5ewvUm+WeqfUxZtYu0tc4=\", true, function () {\n  return [useDrizzle, useDrizzleState];\n});\n_c = Daowatch;\nexport default Daowatch;\nvar _c;\n$RefreshReg$(_c, \"Daowatch\");","map":{"version":3,"names":["drizzleReactHooks","Link","jsxDEV","_jsxDEV","useDrizzle","useDrizzleState","Daowatch","DaoIndex","_s","useCacheCall","drizzleState","state","address","accounts","balance","accountBalances","console","log","oz_states","getPropState","propState","addr","datos","call","id","children","fileName","_jsxFileName","lineNumber","columnNumber","description","to","_c","$RefreshReg$"],"sources":["/home/pablo/Desktop/DAO/dapp/src/components/dao/Daolist/Daowatch.js"],"sourcesContent":["import { drizzleReactHooks } from '@drizzle/react-plugin';\nimport { Link } from 'react-router-dom';\n\nconst { useDrizzle, useDrizzleState } = drizzleReactHooks;\n\nconst Daowatch = ({ DaoIndex }) => {\n  const { useCacheCall } = useDrizzle();\n  const drizzleState = useDrizzleState((state) => state);\n\n  const address = drizzleState.accounts[0];\n  const balance = drizzleState.accountBalances[address];\n\n  console.log(\"DaoIndex:\", DaoIndex);\n\n  const oz_states = [\n    'Pending',\n    'Active',\n    'Canceled',\n    'Defeated',\n    'Succeeded',\n    'Queued',\n    'Expired',\n    'Executed',\n  ];\n\n  // Función para obtener el estado basado en el valor de propState\n  const getPropState = (propState) => {\n    return oz_states[propState] || 'Unknown'; // Devolvemos el estado correspondiente o 'Unknown' si no se encuentra\n  };\n\n  let { addr, datos, propState } = useCacheCall(\n    ['GovernorContract'],\n    (call) => {\n      const addr = call('GovernorContract', 'proposes', DaoIndex);\n      const datos = addr && call('GovernorContract', 'datosPropose', addr);\n      const propState = addr && datos && call('GovernorContract', 'state', datos.id);\n      return { addr, datos, propState };\n    }\n  );\n\n  return (\n    <tr key={'Dao-' + DaoIndex}>\n      <th>A<sub>{DaoIndex}</sub></th>\n      <td>{datos?.description}</td>\n      <td>{getPropState(propState)}</td>\n      <td>\n        <Link to={`/dao/${DaoIndex}`}>Votar</Link>\n      </td>\n    </tr>\n  );\n};\n\nexport default Daowatch;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}